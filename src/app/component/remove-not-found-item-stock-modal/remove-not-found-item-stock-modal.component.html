<div class="modal-header">
    <h6 class="modal-title">Remove Items Not Available in Stock</h6>
    <button type="button" class="close" aria-label="Close" (click)="close()">
        &times;
    </button>
</div>

<div class="modal-body">
    <div *ngIf="productIssues.length">
        <h3>Issues:</h3>

        <div *ngFor="let issue of productIssues" class="issue">

            <!-- PRODUCT DETAILS -->
            <div class="issue-item d-flex gap-2 align-items-center mb-2">
                <img [src]="issue.product.imageUrl"
                     alt="Product Image"
                     class="item-image"
                     style="width: 70px; height: 70px; object-fit: cover; border-radius: 6px;">

                <div class="item-info">
                    <h3 class="text-primary mb-1"><strong>{{ issue.product.productTitle }}</strong></h3>
                    <p class="mb-0">Price: â‚¹{{ issue.product.price }}</p>
                    <p class="mb-0">Quantity in Cart: {{ issue.product.quantity }}</p>
                </div>
            </div>

            <!-- ISSUE MESSAGE -->
            <p>{{ issue.message }}</p>

            <!-- QUANTITY DETAILS -->
            <div class="issue-details mt-2">
                <p class="text-danger"><strong>Requested:</strong> {{ issue.requestedQuantity }}</p>
                <p class="text-success"><strong>Available:</strong> {{ issue.availableQuantity }}</p>
            </div>

            <hr>
        </div>
    </div>
</div>

<div class="modal-footer">
    <button type="button"
            class="btn btn-primary"
            (click)="takeAvailable()">
        Make Order With Available Quantity
    </button>

    <button *ngIf="numItems > productIssues.length"
            type="button"
            class="btn btn-danger"
            (click)="removeItems()">
        Remove These Items from Order
    </button>
</div>
