<!-- header.component.html -->
<nav class="navbar navbar-expand-lg  bg-dark p-1">
  <div class="container-fluid">
    <a class="navbar-brand text-light" routerLink="">Ecommerce</a>
    <button class="navbar-toggler bg-light" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse text-light" id="navbarNavDropdown">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link mx-2" routerLink="/products" [routerLinkActiveOptions]="{exact: true}" routerLinkActive="active_link">Products</a>
        </li>
        <li class="nav-item">
          <a class="nav-link mx-2" routerLink="/about" routerLinkActive="active_link">About Us</a>
        </li>
        <li class="nav-item">
          <a class="nav-link mx-2" routerLink="/contact" routerLinkActive="active_link">Contact Us</a>
        </li>
      </ul>
      <ul class="navbar-nav ms-auto d-lg-inline-flex">
        <div class="dropdown mt-1" *ngIf="auth(); else login">
          <a href="#" class="d-block link-body-emphasis text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            <img *ngIf="img !='null'; else noImg" [src]="img" alt="mdo" width="32" height="32" class="rounded-circle">
            <ng-template #noImg>
              <img #noImg width="32" height="32" class="rounded-circle" src="https://media.istockphoto.com/id/1317551891/vector/account-avatar-member-person-profle-user-icon-eps-vector.jpg?s=612x612&w=0&k=20&c=wsVtFuxw-tZOIrLIff8gY8b49xNxeGCnXqM8OGJyiS8=">
            </ng-template>
            <span *ngIf="!loading">
              <span class="ms-2">{{ username }}</span>!
            </span>
          </a>
          <ul class="dropdown-menu text-small">
            <li><a class="dropdown-item text-dark" routerLink="/user/profile">Profile</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item text-dark" routerLink="/user/login" (click)="logout()">Logout</a></li>
          </ul>
        </div>

        <ng-template #login>
          <ul class="navbar-nav">
            <li class="nav-item mx-2">
              <a class="nav-link mx-2" routerLink="/login" routerLinkActive="active_link">Login/Register</a>
            </li>
          </ul>
        </ng-template>
        <li class="nav-item mx-2" style="cursor: pointer; width: 80px; margin-top: -5px" routerLink="cart" routerLinkActive="active_link">
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="32" fill="currentColor" class="bi bi-cart nav-item mx-2 mt-2" viewBox="0 0 16 16">
            <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
          </svg>
          <span>{{quantity}}</span>
        </li>
      </ul>
    </div>
  </div>
</nav>
